<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head>
   <title>АПИ</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="апи" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; 
     
     /* border:solid;*/ /*это только заголовок лдя правой половинки*/}
     .btn {
    left: 0;
    margin-left: 3px;
    top: 0;
    height:30px;
    width: 60px;
    text-align: center; 
    background-repeat: no-repeat;
    cursor:pointer;
    cursor:hand;
    display: inline-block;
    position: relative;
    vertical-align: middle;
    white-space: nowrap;
    -moz-box-sizing: border-box;
    font-family: tahoma,arial,verdana,sans-serif;
    color: #416DA3;
    font-size: 9pt;
          
     }
      
     a:hover .btn , a:active .btn  {    /*наведен*/      /*активна*/
      
     background-color: #BCCFE5;
     background-image: -moz-linear-gradient(top, #bccfe5,#c5d6e7 48%,#95c4f4 52%,#9fc9f5); /* FireFox */
     background-image: -o-linear-gradient(top, #bccfe5,#c5d6e7 48%,#95c4f4 52%,#9fc9f5); /* Opera */
     background-image: -webkit-gradient(top, #bccfe5,#c5d6e7 48%,#95c4f4 52%,#9fc9f5); /* chrome, safary, etc. webkit */
     background-image:-webkit-linear-gradient(top, #bccfe5,#c5d6e7 48%,#95c4f4 52%,#9fc9f5);
     background-image:linear-gradient(top, #bccfe5,#c5d6e7 48%,#95c4f4 52%,#9fc9f5)
     filter: progid:DXImageTransform.Microsoft.Gradient(gradientType=0,startColorStr=#BCCFE5,endColorStr=#95C4F4); /* MS IE 7 */
     -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#c5d6e7', endColorstr='#95c4f4')"; /* MS IE 8 */
     /*border-color: #7A9AC4;  */  
     border-radius: 3px;
     -moz-border-radius: 3px;
     -webkit-border-radius: 3px;

     border: 1px solid #a3bae9;
      height:28px;
      
      }
      
      .btn p {    
       text-align: center;
       width: 100%;
       height:28px;
       padding: 5px;
       }
     .tblhdr{
      width:100%; 
      border:none; 
      border-spacing:0px; 
      
      background-color: #CBDBEF;
      background-image: -moz-linear-gradient(center top , #DDE8F5, #CBDBEF);

     background-image: -moz-linear-gradient(center top , #DDE8F5, #CBDBEF); /* FireFox */
     background-image: -o-linear-gradient(center top , #DDE8F5, #CBDBEF); /* Opera */
     background-image: -webkit-gradient( top , #DDE8F5, #CBDBEF); /* chrome, safary, etc. webkit */
     background-image:-webkit-linear-gradient( top , #DDE8F5, #CBDBEF);
     background-image:linear-gradient(center top , #DDE8F5, #CBDBEF)
     filter: progid:DXImageTransform.Microsoft.Gradient(gradientType=0,startColorStr=#DDE8F5,endColorStr=#CBDBEF); /* MS IE 7 */
     -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#DDE8F5', endColorstr='#CBDBEF')"; /* MS IE 8 */

      height:30px;
      
     }
      .tblhdr tr {
      vertical-align:middle;
      height:30px;
      margin:3px;
      }
      
      .tblhdr tr td {
      text-align:left;
      color: #416DA3;
      
      height:100%;
      
      }
      
      .tblhdr tr td h1 span{
       font-size: 13pt;
       padding: 8px;
      }
      
      .tbldat{
       width:100%;
       border:none;
       border-spacing:0px ;
      }
      
      .tbldat tr {
       vertical-align:top;
      }
      
      .tbldat tr td {
      text-align:left;padding:5px;
      }
     </style>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if (location.search.lastIndexOf("toc=0")<=0) {
  if (parent.frames.length==0) { parent.location.href="index.html?api.html"; }
  else { parent.quicksync('a7'); }
}
//-->
</script>
<script type="text/javascript" src="highlight.js"></script></head>
<body onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div>


<table class="tblhdr">
  <tr >
    <td >
      <p class="p_Heading1"><span class="f_Heading1">АПИ</span></p>

    </td>
    <td style="text-align:right">
     <a href="newinfp.html"><div class="btn"><p>Вверх</p></div></a>
     
     <a href="wb_view.html"><div class="btn"><p>Назад</p></div></a>
     
     
     <a href="quest.html"><div class="btn"><p>Вперед</p></div></a>
     
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table class="tbldat">
<tr ><td >
<p>АПИ возвращает данные в формате <a href="https://labs.omniti.com/labs/jsend" target="_blank" class="weblink" title="JSend">JSend</a></p>
<p>Для работы с АПИ необходимо сгенерировать ключ(token):</p>
<p>&nbsp;</p>
<p>Для этого на верхней панели нажимаем кнопку "Ключ"</p>
<p>В открывшемся окне нажимаем кнопку "Новый" и получаем ключ для работы с АПИ, который нужно отправлять при вызове любого запроса АПИ в виде поля заголовка "TOKEN".</p>
<p>&nbsp;</p>
<p><img src="api.png" width="1165" height="552" border="0" alt="API"></p>
<p>&nbsp;</p>
<p><span style="color: #0000ff;">Доступные запросы:</span></p>
<p>&nbsp;</p>
<p><span style="font-weight: bold; color: #800080;">GET</span><span style="font-weight: bold;"> web.flippost.com/api/cities</span> - возвращает все города доступные для заказа.</p>
<p><span style="font-weight: bold; color: #800080;">GET</span><span style="font-weight: bold;"> web.flippost.com/api/cities/&lt;Город&gt;</span> - ищет город по неполному имени города</p>
<p><span style="font-weight: bold; color: #800080;">GET</span><span style="font-weight: bold;"> web.flippost.com/api/cities/&lt;Город&gt;/&lt;Область&gt;</span> - ищет город по неполному имени города и области</p>
<p><span style="font-weight: bold; color: #800080;">GET</span><span style="font-weight: bold;"> web.flippost.com/api/cities/&lt;Город&gt;/&lt;Область&gt;/&lt;Страна&gt;</span> - ищет город по неполному имени города, области и страны</p>
<p><span style="font-weight: bold; color: #800080;">GET</span><span style="font-weight: bold;"> web.flippost.com/api/types</span> - возвращает справочник типов.</p>
<p><span style="font-weight: bold; color: #800080;">GET</span><span style="font-weight: bold;"> web.flippost.com/api/orders/&lt;Дата начала периода ГГГГММДД&gt;/&lt;Дата конца периода ГГГГММДД&gt;</span> - возвращает все заказы за указанный промежуток времени.</p>
<p>&nbsp;</p>
<p>{</p>
<p> &nbsp; &nbsp;"status": "success",</p>
<p> &nbsp; &nbsp;"data": [</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ordernumber": 240981,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"orgcitycode": 32401,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"orgcity": "Химки",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendername": "ООО Инстар Лоджистик",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"senderaddress": "Химки мкрн Подрезково ул.центральная 2/5",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendercontactname": "Владислав Вдовин, Роман Ермаков",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendercontactphone": "4956170741 доб.2(Владислав), 2300570 доб.151 (Рома",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendercontacemail": null,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"cargotype": 0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"numberofpackages": 1,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"weight": "1.00",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"volumeweight": "0.00",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"destcitycode": 31503,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"destcity": "Астана",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"destinationname": "Акционерное общество Локомотив Курастрыру Зауыты",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"destinationaddress": "Индустриальный парк, ул.184 строение 8",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"destinationcontactname": "Датбаев Олжас",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"destinationcontactphone": "+77075070694, 7172932161",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"destinationcontacemail": null,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"status": "отменен" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{...........</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp; &nbsp;]</p>
<p>}</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold; color: #800080;">GET</span><span style="font-weight: bold;"> web.flippost.com/api/orders/&lt;Номер заказа&gt;</span> - возвращает заказ по его номеру</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>{</p>
<p> &nbsp; &nbsp;"<span style="color: #800000;">status</span>": "<span style="color: #000080;">success</span>",</p>
<p> &nbsp; &nbsp;"<span style="color: #800000;">data</span>": [</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">ordernumber</span>": <span style="color: #000080;">240981</span>,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">orgcitycode</span>": <span style="color: #000080;">32401</span>,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">orgcity</span>": "<span style="color: #000080;">Химки</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">sendername</span>": "<span style="color: #000080;">ООО Инстар Лоджистик</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">senderaddress</span>": "<span style="color: #000080;">Химки мкрн Подрезково ул.центральная 2/5</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">sendercontactname</span>": "<span style="color: #000080;">Владислав Вдовин, Роман Ермаков</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">sendercontactphone</span>": "<span style="color: #000080;">4956170741 доб.2(Владислав), 2300570 доб.151 (Рома</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">sendercontactemail</span>": <span style="color: #000080;">null</span>,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">senderdescription</span>": "<span style="color: #000080;">Обзательно сообщить номер заявки, по которой планируется отгрузка № 41</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">cargotype</span>": <span style="color: #000080;">0</span>,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">numberofpackages</span>": <span style="color: #000080;">1</span>,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">weight</span>": "<span style="color: #000080;">1.00</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">volumeweight</span>": "<span style="color: #000080;">0.00</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">destcitycode</span>": <span style="color: #000080;">31503</span>,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">destcity</span>": "<span style="color: #000080;">Астана</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">destinationname</span>": "<span style="color: #000080;">Акционерное общество Локомотив Курастрыру Зауыты</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">destinationaddress</span>": "<span style="color: #000080;">Индустриальный парк, ул.184 строение 8</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">destinationcontactname</span>": "<span style="color: #000080;">Датбаев Олжас</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">destinationcontactphone</span>": "<span style="color: #000080;">+77075070694, 7172932161</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">destinationcontacemail</span>": <span style="color: #000080;">null</span>,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">destinationdescription</span>": "<span style="color: #000080;">оплата 3-ей стороной по л/с 21405845</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">courierarrivaldate</span>": "<span style="color: #000080;">29.01.2018</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">courierarrivaltimefirst</span>": "<span style="color: #000080;">10:00</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">courierarrivaltimelast</span>": "<span style="color: #000080;">19:00</span>",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">status</span>": "<span style="color: #000080;">отменен</span>"</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">waybill</span>":"<span style="color: #000080;">123567</span>"</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp;]</p>
<p>}</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold; color: #800080;">POST</span><span style="font-weight: bold;"> web.flippost.com/api/orders - </span>создание заказа</p>
<p><span style="font-weight: bold; color: #800080;">POST</span><span style="font-weight: bold;"> web.flippost.com/api/orders/&lt;Номер заказа&gt; - </span>изменение заказа</p>
<p>&nbsp;</p>
<p><span style="color: #0000ff;">Поля для записи и чтения.</span></p>
<p><span style="font-weight: bold;">sendername</span> - Название отправителя. Строка не более 50 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">orgcitycode</span> - Код города пункта отправления из справочника городов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">senderaddress</span> - Адрес отправителя. Строка не более 200 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">sendercontactname</span> - Ф.И.О. контакта отправителя. Строка не более 50 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">sendercontactphone</span> - Телефон контакта отправителя. Строка не более 50 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">sendercontacemail</span> - Электронная почта контакта отправителя. Строка не более 50 символов.</p>
<p><span style="font-weight: bold;">senderdescription</span> - Дополнительная информация по отправлению. Строка не более 1000 символов.</p>
<p><span style="font-weight: bold;">cargotype</span> - Тип груза (0 - Не документ, 1 - Документ). Целое положительное число. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">numberofpackages</span> - Количество упаковок в отправлении. Целое положительное число. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">weight</span> - Вес отправления. Положительное число с дробной частью отделенной точкой. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">volumeweight</span> - Объемный вес отправления. Положительное число с дробной частью отделенной точкой. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">destcitycode</span> - Код города пункта назначения из справочника городов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">destcity</span> - Название города пункта назначения. Строка не более 50 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">destinationname</span> - Название получателя. Строка не более 50 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">destinationaddress</span> - Адрес получателя. Строка не более 200 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">destinationcontactname</span> - Ф.И.О. контакта получателя. Строка не более 50 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">destinationcontactphone</span> - Телефон контакта получателя. Строка не более 50 символов. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">destinationcontacemail</span> - Электронная почта контакта получателя. Строка не более 50 символов.</p>
<p><span style="font-weight: bold;">destinationdescription</span> - Дополнительная информация по получению. Строка не более 1000 символов.</p>
<p><span style="font-weight: bold;">courierarrivaldate</span> - Дата приезда курьера в виде &lt;YYYYMMDD&gt;. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">courierarrivaltimefirst</span> - Начало периода приезда курьера в виде &lt;HH:MM&gt;. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p><span style="font-weight: bold;">courierarrivaltimelast</span> - Конец периода приезда курьера в виде &lt;HH:MM&gt;. <span style="color: #ff0000;">Обязательное поле.</span></p>
<p>&nbsp;</p>
<p><span style="color: #0000ff;">Поля только для чтения.</span></p>
<p><span style="font-weight: bold;">ordernumber</span> - Номер заказа.</p>
<p><span style="font-weight: bold;">orgcity</span> - Название города пункта отправления.</p>
<p><span style="font-weight: bold;">status</span> - Текущий статус заказа.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold; color: #800080;">GET </span><span style="font-weight: bold;">web.flippost.com/api/wb/&lt;Номер накладной&gt; - </span>скачать PDF файл накладной.</p>
<p>&nbsp;</p>
<p>{</p>
<p> &nbsp; &nbsp;"<span style="color: #800000;">status</span>": "<span style="color: #000080;">success</span>",</p>
<p> &nbsp; &nbsp;"<span style="color: #800000;">data</span>": [</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"<span style="color: #800000;">href</span>": "<span style="color: #000080;">ссылка на PDF файл накладной</span>"</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp;]</p>
<p>}</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold; color: #800080;">GET </span><span style="font-weight: bold;">web.flippost.com/api/pdf/orders/&lt;Номер заказа&gt; - </span>скачать PDF файл заказа в виде накладной.</p>
<p>&nbsp;</p>
<p>{</p>
<p> &nbsp; &nbsp;"<span style="color: #800000;">status</span>": "<span style="color: #000080;">success</span>",</p>
<p> &nbsp; &nbsp;"<span style="color: #800000;">data</span>": [</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "<span style="color: #800000;">href</span>": "<span style="color: #000080;">ссылка на PDF файл заказа в виде накладной</span>"</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp;]</p>
<p>}</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Все запросы используют для проверки авторизации ключ в HTTP заголовке "<span style="font-weight: bold;">TOKEN</span>"</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</td></tr></table>

</body>
</html>
